<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Fiesta sorpresa</title>

<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">

<style>
body{
    margin:0;
    height:100vh;
    background:#0a0a0a;
    display:flex;
    justify-content:center;
    align-items:center;
    overflow:hidden;
    transition:background 1.5s ease;
}

/* LUZ */
.luz{
    position:absolute;
    width:200%;
    height:200%;
    background:radial-gradient(circle,rgba(255,255,200,.9),rgba(0,0,0,1) 70%);
    opacity:0;
    pointer-events:none;
    transition:opacity 1.5s ease;
}

/* MENSAJE */
#mensaje{
    position:absolute;
    top:20vh;
    left:50%;
    transform:translateX(-50%) scale(.7);
    font-family:'Great Vibes',cursive;
    font-size:clamp(50px, 12vw, 80px);
    color:black;
    text-shadow:0 0 10px #fff,0 0 20px gold;
    opacity:0;
    z-index:60;
    transition:all 2s ease;
    pointer-events:none;
    text-align:center;
    width:100%;
}

/* BOTONES */
button{
    padding:18px 36px;
    font-size:22px;
    background:gold;
    border:none;
    border-radius:14px;
    cursor:pointer;
    z-index:9999;
}

#btnLuces{
    position:absolute;
    top:30%;
    left:50%;
    transform:translateX(-50%);
}

#btnSoplar{
    position:absolute;
    top:20%;
    left:50%;
    transform:translateX(-50%);
    display:none;
}

/* ENCENDIDO */
body.encendido{background:#1c2431;}
body.encendido .luz{opacity:1;}

/* TORTA */
.torta{
    position:absolute;
    bottom:-300px;
    width:260px;
    height:260px;
    left:50%;
    transform:translateX(-50%);
    opacity:0;
    z-index:40;
}
body.encendido .torta{
    animation:caer 2s forwards;
    opacity:1;
}
@keyframes caer{
    from{bottom:100%;}
    to{bottom:180px;}
}

.base{
    width:260px;height:130px;
    background:linear-gradient(#6b3a16,#3b1b05);
    border-radius:0 0 50% 50%;
    position:absolute;bottom:0;
}
.redondo{
    width:260px;height:170px;
    background:linear-gradient(#5a2d0c,#3b1b05);
    border-radius:50%;
    position:absolute;bottom:60px;
}
.crema{
    position:absolute;width:260px;height:170px;
    background:white;border-radius:50%;top:30px;
}
.gota{
    position:absolute;width:20px;height:55px;
    background:white;border-radius:0 0 15px 15px;top:115px;
}
.g1{left:40px;} .g2{left:100px;}
.g3{left:160px;} .g4{left:210px;height:60px;}

/* üïØÔ∏è VELAS */
.vela{
    width:10px;height:45px;
    background:pink;
    position:absolute;
    border-radius:5px;
}
.fuego{
    width:12px;height:18px;
    background:orange;
    border-radius:50%;
    position:absolute;
    top:-18px;left:-1px;
    animation:fuego .3s infinite alternate;
}
@keyframes fuego{to{transform:scale(.8);}}

/* posiciones */
.vela1{left:125px;top:5px;}
.vela2{left:175px;top:20px;}
.vela3{left:215px;top:60px;}
.vela4{left:200px;top:110px;}
.vela5{left:160px;top:140px;}
.vela6{left:90px;top:140px;}
.vela7{left:50px;top:110px;}
.vela8{left:35px;top:60px;}
.vela9{left:75px;top:20px;}

/* üéÜ FUEGOS INTENSOS */
.fire{
    position:absolute;
    width:8px;height:8px;
    border-radius:50%;
    background:currentColor;
    box-shadow:0 0 12px currentColor, 0 0 25px currentColor;
    animation:fire 4s ease-out forwards;
    pointer-events:none;
}
@keyframes fire{
    from{transform:translate(0,0) scale(1);opacity:1;}
    to{transform:translate(var(--x),var(--y)) scale(.1);opacity:0;}
}

/* üéà GLOBOS */
.balloon{
    position:absolute;
    width:70px;height:90px;
    border-radius:50%;
    background:radial-gradient(circle at 30% 30%, #fff, currentColor);
    animation:float linear forwards;
    pointer-events:none;
}
.balloon::after{
    content:"";
    position:absolute;
    width:2px;height:50px;
    background:#ccc;
    left:50%;top:90px;
}
@keyframes float{
    from{transform:translateY(120vh);}
    to{transform:translateY(-150vh);}
}
</style>
</head>

<body>

<div class="luz"></div>

<button id="btnLuces">Encender las luces</button>
<button id="btnSoplar">Soplar las velas</button>

<div class="torta">
    <div class="base"></div>
    <div class="redondo"></div>
    <div class="crema">
        <div class="gota g1"></div>
        <div class="gota g2"></div>
        <div class="gota g3"></div>
        <div class="gota g4"></div>
    </div>

    <div class="vela vela1"><div class="fuego"></div></div>
    <div class="vela vela2"><div class="fuego"></div></div>
    <div class="vela vela3"><div class="fuego"></div></div>
    <div class="vela vela4"><div class="fuego"></div></div>
    <div class="vela vela5"><div class="fuego"></div></div>
    <div class="vela vela6"><div class="fuego"></div></div>
    <div class="vela vela7"><div class="fuego"></div></div>
    <div class="vela vela8"><div class="fuego"></div></div>
    <div class="vela vela9"><div class="fuego"></div></div>
</div>

<div id="mensaje">¬°Feliz Cumple T√≠a!</div>

<script>
const btnLuces=document.getElementById("btnLuces");
const btnSoplar=document.getElementById("btnSoplar");
const mensaje=document.getElementById("mensaje");

btnLuces.onclick=()=>{
    document.body.classList.add("encendido");
    btnLuces.style.display="none";
    btnSoplar.style.display="block";
};

btnSoplar.onclick=()=>{
    document.querySelectorAll(".fuego").forEach(f=>f.style.display="none");
    btnSoplar.style.display="none";

    const waves = innerWidth < 600 ? 9 : 14;

    for(let wave=0; wave<waves; wave++){
        setTimeout(()=>{
            const x=Math.random()*innerWidth;
            const y=Math.random()*innerHeight*0.6;

            for(let i=0;i<120;i++){
                const f=document.createElement("div");
                f.className="fire";
                f.style.left=x+"px";
                f.style.top=y+"px";
                f.style.color=`hsl(${Math.random()*360},100%,60%)`;

                const a=Math.random()*Math.PI*2;
                const d=250+Math.random()*450;
                f.style.setProperty("--x",Math.cos(a)*d+"px");
                f.style.setProperty("--y",Math.sin(a)*d+"px");

                document.body.appendChild(f);
                setTimeout(()=>f.remove(),4000);
            }
        },wave*220);
    }

    for(let i=0;i<18;i++){
        const b=document.createElement("div");
        b.className="balloon";
        b.style.left=Math.random()*100+"%";
        b.style.color=`hsl(${Math.random()*360},70%,55%)`;
        b.style.animationDuration=8+Math.random()*5+"s";
        document.body.appendChild(b);
        setTimeout(()=>b.remove(),14000);
    }

    mensaje.style.opacity=1;
    mensaje.style.transform="translateX(-50%) scale(1)";
};

// üí® soplar tocando pantalla (celular)
document.body.addEventListener("touchstart", ()=>{
    if(btnSoplar.style.display !== "none"){
        btnSoplar.click();
    }
},{ once:true });
</script>

</body>
</html>


